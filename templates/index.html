$def with (library)

<div class="row">
  <form id="uploader" action="/api/openai/vision" enctype="multipart/form-data" method="POST">
    <div>
      <div id="image-bucket">
        <div>Drop images here</div>
        <div id="image-bucket-thumbnails"></div>
      </div>
      <input name="section" placeholder="Section" value="">
    </div>
    <button type="submit" disabled>Submit</button>
  </form>
</div>
<div class="row">
  <table>
    <thead>
      <tr>
        <th>Title</th>
        <th>Author</th>
        <th>Type</th>
        <th>Published</th>
        <th>Edition</th>
        <th>Serial Numbers</th>
      </tr>
    </thead>
    $for section in library.sections:
      <tbody><tr><td colspan="6" class="section">$section.name</td></tr></tbody>
      <tbody>
      $for entry in section.entries:
        <tr>
          <td><a href=entry/$entry.id>$entry.title</a></td>
          <td>$entry.author</td>
          <td>$entry.mediaType</td>
          <td>$entry.Publisher</td>
          <td>$entry.Edition</td>
          <td>$entry.SerialNumbers</td>
        </tr>
      </tbody>
  </table>
</div>